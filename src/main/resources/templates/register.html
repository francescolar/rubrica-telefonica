<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org">
<head>
    <link rel="icon" href="/img/site/favicon.png" type="image/x-icon" >
	<link rel="shortcut icon" href="/img/site/favicon.png" type="image/x-icon" >
    <meta charset="UTF-8">
    <meta http-equiv="Content-Language" content="EN">
    <meta name="copyright" content="Francesco La Ruffa">
    <title>Rubrica | Sign in</title>
    <meta name="description" content="Register page">
	<meta name="keywords" content="Register">
    <script type="text/javascript"></script>
    <link id="theme-stylesheet-main" rel="stylesheet" type="text/css" href="/css/style-main.css" />
    <link id="theme-stylesheet-color" rel="stylesheet" type="text/css" href="/css/style-light.css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js" defer></script>
    <script src="/js/theme-toggle.js" type="text/javascript" defer></script>
    <script src="/js/transition.js" type="text/javascript" defer></script>
    <script src="/js/main.js" type="text/javascript" defer></script>
    <script src="/js/registerValidation.js" type="text/javascript" defer></script>
</head>
<body>
    <div th:replace="~{fragments/header :: header}"></div>
    <main>

        <div class="main-login-container">
            <h2>Enter your information</h2>
            <div class="login-container">
                <form id="registerForm" ref="registerForm" action="#" th:action="@{/register}" th:object="${user}" method="post" @submit.prevent="validateForm" novalidate>
                    <div class="tooltip">
                        <input class="text-field" th:field="*{username}" title="" v-model="username" type="text" id="username" name="username" placeholder="username *" required/>
                        <div class="tooltiptext">Username</div>
                    </div>
                    <div class="error-message" th:if="${ex}">Username already exist</div>
                    <div class="error-message" v-if="errors.username">Username must be at least 4 characters</div>
                    <div class="tooltip">
                        <input class="text-field" th:field="*{password}" v-model="password" title="" type="password" id="password" name="password" placeholder="password *" required/>
                        <div class="tooltiptext">Password</div>
                        <span onclick="togglePsw()" id="show-password" class="material-symbols-rounded">key_off</span>
                    </div>
                    <div class="error-message" style="text-align: left;" v-if="errors.password">
                        Password doesn't match requirements:
                        <ul>
                            <li>at least 8 characters</li>
                            <li>must include an uppercase letter</li>
                            <li>must include a lowercase letter</li>
                            <li>must include a number</li>
                            <li>must include a special character</li>
                        </ul>
                        </div>
                    <div class="tooltip">
                        <input class="text-field" type="password" v-model="confirmPassword" id="confirmPassword" placeholder="confirm password *" required/>
                        <div class="tooltiptext">Confirm Password</div>
                        <span onclick="toggleConfirmPsw()" id="show-password-confirm" class="material-symbols-rounded">key_off</span>
                    </div>
                    <div class="error-message" v-if="errors.confirmPassword">Passwords do not match</div>
                    <div class="tooltip">
                        <input class="text-field" th:field="*{fname}" v-model="firstName" title="" type="text" id="fname" name="fname" placeholder="first name *" required/>
                        <div class="tooltiptext">First name</div>
                        <div class="error-message" v-if="errors.firstName">Please enter your first name</div>
                    </div>
                    <div class="tooltip">
                        <input class="text-field" th:field="*{lname}" v-model="lastName" title="" type="text" id="lname" name="lname" placeholder="last name *" required/>
                        <div class="tooltiptext">Last name</div>
                    </div>
                    <div class="error-message" v-if="errors.lastName">Please enter your last name</div>
                    <div>
                        <input type="submit" value="Register" class="login-button">
                    </div>
                </form>
            </div>
        </div>
    </main>
    
</body>
</html>
